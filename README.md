makarenko-java / com.javarush.makarenko.island
---
**–ü—Ä–æ–µ–∫—Ç –û—Å—Ç—Ä–æ–≤**
----

**–ò–µ—Ä–∞—Ä—Ö–∏—è –∫–ª–∞—Å—Å–æ–≤**
- Animal
  - Herbivore
    - üêé Horse - –õ–æ—à–∞–¥—å
    - ü¶å Deer - –û–ª–µ–Ω—å
    - üêá Rabbit - –ö—Ä–æ–ª–∏–∫
    - üêÅ Mouse - –ú—ã—à—å
    - üêê Goat - –ö–æ–∑–∞ 
    - üêë Sheep - –û–≤—Ü–∞
    - üêó Boar - –ö–∞–±–∞–Ω
    - üêÉ Buffalo - –ë—É–π–≤–æ–ª
    - ü¶Ü Duck - –£—Ç–∫–∞
    - üêõ Caterpillar - –ì—É—Å–µ–Ω–∏—Ü–∞
  - Predator
    - üê∫ Wolf - –í–æ–ª–∫
    - üêç Boa - –£–¥–∞–≤
    - ü¶ä Fox - –õ–∏—Å–∞
    - üêª Bear - –ú–µ–¥–≤–µ–¥—å
    - ü¶Ö Eagle - –û—Ä–µ–ª
- Plant - –†–∞—Å—Ç–µ–Ω–∏–µ <u><b>–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û</b></u>

___

–ö–∞–∂–¥–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –æ–±–ª–∞–¥–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–æ–ª—è–º–∏:
- weight - –í–µ—Å –æ–¥–Ω–æ–≥–æ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ;
- maxPerCell - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂–∏–≤–æ—Ç–Ω—ã—Ö —ç—Ç–æ–≥–æ –≤–∏–¥–∞ –Ω–∞ –æ–¥–Ω–æ–π –∫–ª–µ—Ç–∫–µ;
- maxSpeed - –°–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è, –Ω–µ –±–æ–ª–µ–µ —á–µ–º, –∫–ª–µ—Ç–æ–∫ –∑–∞ —Ö–æ–¥;
- foodNeededForMaxSatiety - –°–∫–æ–ª—å–∫–æ –∫–∏–ª–æ–≥—Ä–∞–º–º–æ–≤ –ø–∏—â–∏ –Ω—É–∂–Ω–æ –∂–∏–≤–æ—Ç–Ω–æ–º—É –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –Ω–∞—Å—ã—â–µ–Ω–∏—è;
- consumptionProbability - –¢–∞–±–ª–∏—Ü–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –ø–æ–µ–¥–∞–Ω–∏—è –æ–¥–Ω–∏—Ö –≤–∏–¥–æ–≤ –¥—Ä—É–≥–∏–º–∏;
- currentSatiety - –¢–µ–∫—É—â–∞—è —Å—ã—Ç–æ—Å—Ç—å <u><b>–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û</b></u>.

–ü–æ–ª—è —Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∏–∑ —Ç–∞–±–ª–∏—Ü –¥–∞–Ω–Ω—ã—Ö, –∑–∞–¥–∞–Ω–Ω—ã—Ö –≤ —É—Å–ª–æ–≤–∏–∏.

–¢–∞–±–ª–∏—Ü–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∂–∏–≤–æ—Ç–Ω—ã—Ö [animal_characteristics_table.yaml](src/main/resources/animal_characteristics_table.yaml). –ï—ë –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω–∏—Ç –∫–ª–∞—Å—Å AnimalCharacteristicsTable.

–¢–∞–±–ª–∏—Ü–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –ø–æ–µ–¥–∞–Ω–∏—è –æ–¥–Ω–∏—Ö –≤–∏–¥–æ–≤ –¥—Ä—É–≥–∏–º–∏ [consumption_probability_table.yaml](src/main/resources/consumption_probability_table.yaml). –ï—ë –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω–∏—Ç –∫–ª–∞—Å—Å ConsumptionProbabilityTable.

–î–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü —Å–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Å TableInitializer –∏ –∑–∞–ø—É—Å–∫ –º–µ—Ç–æ–¥–∞ initialize() –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–ª–µ–π –∫–ª–∞—Å—Å–æ–≤ AnimalCharacteristicsTable –∏ ConsumptionProbabilityTable.

---

–ö–∞–∂–¥–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –æ–±–ª–∞–¥–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ (–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –≥–µ—Ç—Ç–µ—Ä–æ–≤):
- eat() - –ü–æ–∫—É—à–∞—Ç—å <u><b>–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û</b></u>.
- reproduce() - –†–∞–∑–º–Ω–æ–∂–∏—Ç—å—Å—è <u><b>–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û</b></u>.
- move() - –ü–µ—Ä–µ–º–µ—â–∞—Ç—å—Å—è <u><b>–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û</b></u>.
- chooseDirection() - –í—ã–±—Ä–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏—è <u><b>–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û</b></u>.

---

–ö–ª–∞—Å—Å Settings –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —É–ø–æ–º—è–Ω—É—Ç—ã –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö.

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —ç—Ç–æ—Ç –∫–ª–∞—Å—Å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã:
- ANIMAL_POPULATION_SCALE - –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö –¥–ª—è –∑–∞—Å–µ–ª–µ–Ω–∏—è –∫–ª–µ—Ç–∫–∏;
- THREAD_POOL_SIZE - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤ –≤ –ø—É–ª–µ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á; 
- ISLAND_ROWS, ISLAND_COLUMNS - –†–∞–∑–º–µ—Ä—ã –æ—Å—Ç—Ä–æ–≤–∞;
- SIMULATION_DAYS - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π —Å–∏–º—É–ª—è—Ü–∏–∏.

---

–ö–ª–∞—Å—Å Cell –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç Runnable

ANIMAL_CLASSES - –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤ –∂–∏–≤–æ—Ç–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º –±–ª–æ–∫–µ.

animals - –ü–æ–ª–µ - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–º–µ—é—â–∏—Ö—Å—è –∂–∏–≤–æ—Ç–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞ –∫–ª–∞—Å—Å–∞ populateAnimals().

populateAnimals() - –ú–µ—Ç–æ–¥, –∑–∞–ø–æ–ª–Ω—è—é—â–∏–π –ø–æ–ª–µ animals –∂–∏–≤–æ—Ç–Ω—ã–º–∏ –∏—Å–ø–æ–ª—å–∑—É—è —Å–ø–∏—Å–æ–∫ –∫–ª–∞—Å—Å–æ–≤ –∂–∏–≤–æ—Ç–Ω—ã—Ö ANIMAL_CLASSES —á–µ—Ä–µ–∑ getDeclaredConstructor().newInstance()
—Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π Settings.ANIMAL_POPULATION_SCALE, –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º maxPerCell –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ —Ñ—É–Ω–∫—Ü–∏–µ–π Math.random().

run() - –ú–µ—Ç–æ–¥ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Runnable, –ª–∏—Å—Ç–∏–Ω–≥ –Ω–∏–∂–µ <u><b>–ú–ï–¢–û–î –ë–£–î–ï–¢ –î–û–†–ê–ë–û–¢–ê–ù</b></u>

    @Override
    public void run() {
        for (Animal animal : animals) {
            animal.eat();
            animal.reproduce();
            animal.chooseDirection();
            animal.move();
        }

---

–ö–ª–∞—Å—Å Island

–í –∫–ª–∞—Å—Å–µ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ–ª–µ Cell[][] field –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ Cell.

---

–ö–ª–∞—Å—Å IslandSimulation

–î–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å.

–°–æ–∑–¥–∞–µ—Ç—Å—è ExecutorService executorService —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥—Ä–πExecutors.newFixedThreadPool(Settings.THREAD_POOL_SIZE).

–ò–º–µ–µ—Ç—Å—è –º–µ—Ç–æ–¥ startSimulation, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä—ã—Ö —Å–∏–º—É–ª—è—Ü–∏—è –±—É–¥–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏ –≤ —ç—Ç–æ–º –º–µ—Ç–æ–¥–µ
–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—Å—è —Å–∏–º—É–ª—è—Ü–∏—è. –í –Ω–µ–º –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–Ω—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–≤–æ–¥ –Ω–∞ –∫–æ–Ω—Å–æ–ª—å –Ω–æ–º–µ—Ä–∞ –¥–Ω—è –∏ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∏–º–µ—é—â–∏—Ö—Å—è –∫–ª–∞—Å—Å–æ–≤ –∂–∏–≤–æ—Ç–Ω—ã—Ö
–∏ –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ –∫–ª–∞—Å—Å–∞–º –Ω–∞ –≤—Å–µ–º –æ—Å—Ç—Ä–æ–≤–µ.

executorService –∑–∞–ø—É—Å–∫–∞–µ—Ç –º–µ—Ç–æ–¥ submit(), –≤ –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–ª–µ—Ç–∫–∞ –æ—Å—Ç—Ä–æ–≤–∞ –∏ –ø—Ä–∏ —ç—Ç–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞
—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ Future<?> –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ—Ö –∫–ª–µ—Ç–æ–∫, —Ç.–∫. –ø—Ä–∏ –ø–µ—Ä–µ–±–æ—Ä–µ —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤
Future<?> —É –∫–∞–∂–¥–æ–≥–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ get(), —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–±–µ–¥–∏—Ç—å—Å—è –≤ —Ç–æ–º, —á—Ç–æ —Ä–∞–±–æ—Ç–∞ –∫–ª–µ—Ç–∫–∏ –±—ã–ª–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∏ –∫–æ–≥–¥–∞ –º—ã –ø—Ä–æ–π–¥–µ–º –≤–µ—Å—å —Å–ø–∏—Å–æ–∫
–æ–±—ä–µ–∫—Ç–æ–≤ Future<?> - –º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å –Ω–æ–≤—ã–π –¥–µ–Ω—å –ª–∏–±–æ –æ–ø–∏—Å–∞—Ç—å —Ä–æ—Å—Ç —Ç—Ä–∞–≤—ã –∏ –ø–æ–¥–≤–µ–¥–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

–ò–º–µ–µ—Ç—Å—è –º–µ—Ç–æ–¥ collectAnimalStatistics(), –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Ö–æ–¥–∏—Ç—Å—è –ø–æ –≤—Å–µ–º –∫–ª–µ—Ç–∫–∞–º –æ—Å—Ç—Ä–æ–≤–∞ –∏ —Å—á–∏—Ç–∞–µ—Ç —Å—É–º–º–∞—Ä–Ω–æ–µ —á–∏—Å–ª–æ –∂–∏–≤–æ—Ç–Ω—ã—Ö –∫–∞–∂–¥–æ–≥–æ –≤–∏–¥–∞ –∏
–≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π Map<String, Integer>.

---

ScheduledExecutorService - <u><b>–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û</b></u>


–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å ScheduledExecutorService - <u><b>–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û</b></u>