makarenko-java / com.javarush.makarenko.island
---
**–ü—Ä–æ–µ–∫—Ç –û—Å—Ç—Ä–æ–≤**
----

**–ò–µ—Ä–∞—Ä—Ö–∏—è –∫–ª–∞—Å—Å–æ–≤**
- Animal
  - Herbivore
    - üêé Horse - –õ–æ—à–∞–¥—å
    - ü¶å Deer - –û–ª–µ–Ω—å
    - üêá Rabbit - –ö—Ä–æ–ª–∏–∫
    - üêÅ Mouse - –ú—ã—à—å
    - üêê Goat - –ö–æ–∑–∞ 
    - üêë Sheep - –û–≤—Ü–∞
    - üêó Boar - –ö–∞–±–∞–Ω
    - üêÉ Buffalo - –ë—É–π–≤–æ–ª
    - ü¶Ü Duck - –£—Ç–∫–∞
    - üêõ Caterpillar - –ì—É—Å–µ–Ω–∏—Ü–∞
  - Predator
    - üê∫ Wolf - –í–æ–ª–∫
    - üêç Boa - –£–¥–∞–≤
    - ü¶ä Fox - –õ–∏—Å–∞
    - üêª Bear - –ú–µ–¥–≤–µ–¥—å
    - ü¶Ö Eagle - –û—Ä–µ–ª
- Plant - –†–∞—Å—Ç–µ–Ω–∏–µ
___

–ö–∞–∂–¥–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –æ–±–ª–∞–¥–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–æ–ª—è–º–∏:
- weight - –í–µ—Å –æ–¥–Ω–æ–≥–æ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ;
- maxPerCell - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂–∏–≤–æ—Ç–Ω—ã—Ö —ç—Ç–æ–≥–æ –≤–∏–¥–∞ –Ω–∞ –æ–¥–Ω–æ–π –∫–ª–µ—Ç–∫–µ;
- maxSpeed - –°–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è, –Ω–µ –±–æ–ª–µ–µ —á–µ–º, –∫–ª–µ—Ç–æ–∫ –∑–∞ —Ö–æ–¥;
- foodNeededForMaxSatiety - –°–∫–æ–ª—å–∫–æ –∫–∏–ª–æ–≥—Ä–∞–º–º–æ–≤ –ø–∏—â–∏ –Ω—É–∂–Ω–æ –∂–∏–≤–æ—Ç–Ω–æ–º—É –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –Ω–∞—Å—ã—â–µ–Ω–∏—è;
- consumptionProbability - –¢–∞–±–ª–∏—Ü–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –ø–æ–µ–¥–∞–Ω–∏—è –æ–¥–Ω–∏—Ö –≤–∏–¥–æ–≤ –¥—Ä—É–≥–∏–º–∏;
- currentSatiety - –¢–µ–∫—É—â–∞—è —Å—ã—Ç–æ—Å—Ç—å
- gender - –ü–æ–ª

–ü–æ–ª—è —Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∏–∑ —Ç–∞–±–ª–∏—Ü –¥–∞–Ω–Ω—ã—Ö, –∑–∞–¥–∞–Ω–Ω—ã—Ö –≤ —É—Å–ª–æ–≤–∏–∏.
–¢–µ–∫—É—â–∞—è —Å—ã—Ç–æ—Å—Ç—å –≤ –Ω–∞—á–∞–ª–µ —Å–∏–º—É–ª—è—Ü–∏–∏ —É –≤—Å–µ—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –º–∞–∫—Å–∏–º—É–º.
–ü–æ–ª –∑–∞–¥–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º —Å —É—á–µ—Ç–æ–º –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –ø–æ–ª–æ–≤–æ–≥–æ –¥–∏—Å–±–∞–ª–∞–Ω—Å–∞.

---

–ö–∞–∂–¥–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –æ–±–ª–∞–¥–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏:
- eat() - –ü–æ–∫—É—à–∞—Ç—å
- reproduce() - –†–∞–∑–º–Ω–æ–∂–∏—Ç—å—Å—è
  - **–ú–ï–¢–û–î –í –¶–ï–õ–û–ú –†–ï–ê–õ–ò–ó–û–í–ê–ù, –û–°–¢–ê–õ–û–°–¨ –î–û–ö–†–£–¢–ò–¢–¨ –õ–û–ì–ò–ö–£ MAX_PER_CELL, 
–ß–¢–û–ë–´ –ù–ï –ü–õ–û–î–ò–õ–ò–°–¨ –°–í–´–®–ï –î–û–ü–£–°–¢–ò–ú–û–ì–û. –î–õ–Ø –≠–¢–û–ì–û –°–û–ó–î–ê–ù–û –°–ü–ï–¶–ò–ê–õ–¨–ù–û–ï –ü–û–õ–ï Map<Class<? extends Animal>, Integer> animalsCountByClass,
–ö–û–¢–û–†–û–ï –¢–ê–ö–ñ–ï –ë–£–î–ï–¢ –£–ß–ò–¢–´–í–ê–¢–¨ –ü–ï–†–ï–ú–ï–©–ê–ï–ú–´–• –í–ù–£–¢–†–¨ –ö–õ–ï–¢–ö–ò –ñ–ò–í–û–¢–ù–´–•**
- chooseDirection() - –í—ã–±—Ä–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏—è 
  - **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û**
- move() - –ü–µ—Ä–µ–º–µ—â–∞—Ç—å—Å—è 
  - **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

---

–ö–ª–∞—Å—Å Settings –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —É–ø–æ–º—è–Ω—É—Ç—ã –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö.


ANIMAL_POPULATION_SCALE = 1.0 - –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö –¥–ª—è –∑–∞—Å–µ–ª–µ–Ω–∏—è –∫–ª–µ—Ç–∫–∏

THREAD_POOL_SIZE = 8 - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤ –≤ –ø—É–ª–µ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á

ISLAND_ROWS = 10, ISLAND_COLUMNS = 10 - –†–∞–∑–º–µ—Ä—ã –æ—Å—Ç—Ä–æ–≤–∞

SIMULATION_DAYS = 200 - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π —Å–∏–º—É–ª—è—Ü–∏–∏

PLANT_MAX_WEIGHT_PER_UNIT = 1.0, MAX_PLANTS_PER_CELL = 200, PLANT_GROWTH_PER_CYCLE = 0.25 - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–ª–∞—Å—Å–∞ Plant

DAILY_SATIETY_DECREASE = 0.05 - –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Å—ã—Ç–æ—Å—Ç–∏ —É –∂–∏–≤–æ—Ç–Ω—ã—Ö –≤ –¥–µ–Ω—å

MAX_SATIETY = 1.0 - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —Å—ã—Ç–æ—Å—Ç–∏ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–∑–º–Ω–æ–∂–µ–Ω–∏—è –∂–∏–≤–æ—Ç–Ω—ã—Ö:

REPRODUCTION_PROBABILITY = 0.1 - –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —É–¥–∞—á–Ω–æ–≥–æ —Ä–∞–∑–º–Ω–æ–∂–µ–Ω–∏—è

LITTER_SIZE = 1 - –†–∞–∑–º–µ—Ä –ø–æ–º—ë—Ç–∞

BIRTH_GENDER_RATIO = 0.5 - –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø–æ–ª–æ–≤–æ–≥–æ –¥–∏—Å–±–∞–ª–∞–Ω—Å–∞ (–ø—Ä–∏ = 0.5, < 0.5 - —Ç–æ–ª—å–∫–æ —Å–∞–º–∫–∏, > 0.5 - —Ç–æ–ª—å–∫–æ —Å–∞–º—Ü—ã))

---

–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ –∫–ª–∞—Å—Å–µ IslandSimulation.

–°–æ–∑–¥–∞–µ—Ç—Å—è ExecutorService executorService —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥—Ä–πExecutors.newFixedThreadPool(Settings.THREAD_POOL_SIZE).

–ò–º–µ–µ—Ç—Å—è –º–µ—Ç–æ–¥ startSimulation, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä—ã—Ö —Å–∏–º—É–ª—è—Ü–∏—è –±—É–¥–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏ –≤ —ç—Ç–æ–º –º–µ—Ç–æ–¥–µ
–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—Å—è —Å–∏–º—É–ª—è—Ü–∏—è. –í –Ω–µ–º –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–Ω—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–≤–æ–¥ –Ω–∞ –∫–æ–Ω—Å–æ–ª—å –Ω–æ–º–µ—Ä–∞ –¥–Ω—è –∏ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∏–º–µ—é—â–∏—Ö—Å—è –∫–ª–∞—Å—Å–æ–≤ –∂–∏–≤–æ—Ç–Ω—ã—Ö
–∏ –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ –∫–ª–∞—Å—Å–∞–º –Ω–∞ –≤—Å–µ–º –æ—Å—Ç—Ä–æ–≤–µ.

executorService –∑–∞–ø—É—Å–∫–∞–µ—Ç –º–µ—Ç–æ–¥ submit(), –≤ –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–ª–µ—Ç–∫–∞ –æ—Å—Ç—Ä–æ–≤–∞ –∏ –ø—Ä–∏ —ç—Ç–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞
—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ Future<?> –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ—Ö –∫–ª–µ—Ç–æ–∫, —Ç.–∫. –ø—Ä–∏ –ø–µ—Ä–µ–±–æ—Ä–µ —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤
Future<?> —É –∫–∞–∂–¥–æ–≥–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ get(), —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–±–µ–¥–∏—Ç—å—Å—è –≤ —Ç–æ–º, —á—Ç–æ —Ä–∞–±–æ—Ç–∞ –∫–ª–µ—Ç–∫–∏ –±—ã–ª–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∏ –∫–æ–≥–¥–∞ –º—ã –ø—Ä–æ–π–¥–µ–º –≤–µ—Å—å —Å–ø–∏—Å–æ–∫
–æ–±—ä–µ–∫—Ç–æ–≤ Future<?> - –º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å –Ω–æ–≤—ã–π –¥–µ–Ω—å –ª–∏–±–æ –æ–ø–∏—Å–∞—Ç—å —Ä–æ—Å—Ç —Ç—Ä–∞–≤—ã –∏ –ø–æ–¥–≤–µ–¥–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

–ò–º–µ–µ—Ç—Å—è –º–µ—Ç–æ–¥ collectAnimalStatistics(), –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Ö–æ–¥–∏—Ç—Å—è –ø–æ –≤—Å–µ–º –∫–ª–µ—Ç–∫–∞–º –æ—Å—Ç—Ä–æ–≤–∞ –∏ —Å—á–∏—Ç–∞–µ—Ç —Å—É–º–º–∞—Ä–Ω–æ–µ —á–∏—Å–ª–æ –∂–∏–≤–æ—Ç–Ω—ã—Ö –∫–∞–∂–¥–æ–≥–æ –≤–∏–¥–∞ –∏
–≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π Map<String, Integer>.

---

ScheduledExecutorService - **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û**, –∞ –Ω–∞–¥–æ –ª–∏?


–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å ScheduledExecutorService - **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û**, –∞ –Ω–∞–¥–æ –ª–∏?